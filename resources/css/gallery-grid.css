/*
 * Gallery Grid Layout Styles
 *
 * Extracted from gallery_listing_images.jinja and search_listings_images.jinja
 * for better browser caching and maintainability.
 *
 * LOCATION: /Volumes/C-8TB/gallery/quickbbs/resources/css/gallery-grid.css
 * This is the SINGLE source of truth for gallery grid layout styles.
 * Do NOT duplicate these styles elsewhere.
 *
 * ASGI/WSGI Compatible: Static CSS files are served by web server,
 * no threading concerns.
 */

/* Gallery Container */
.gallery-container {
    max-width: 93%;
    margin-left: 7%;
    margin-right: 0px;
    margin-top: 0px;
    padding: 0.25rem;
}

/* Navigation customizations for Bulma level */
.level {
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    align-items: center;
}

.level-left,
.level-right {
    flex-shrink: 0;
}

.level-item.is-breadcrumb {
    flex: 1 1 auto;
    min-width: 0;
    justify-content: center;
    overflow: hidden;
}

.level-item.is-breadcrumb .breadcrumb {
    max-width: 100%;
}

.level-item.is-breadcrumb .breadcrumb ul {
    flex-wrap: wrap;
    justify-content: center;
}

.level-item.is-breadcrumb .breadcrumb li {
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.nav-link {
    font-size: 0.875rem;
    color: #3273dc;
    text-decoration: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 150px;
}

/* Gallery Grid */
.gallery-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1px;
    border: 1px solid #000;
    padding: 1px;
}

.gallery-item {
    flex: 1 1 calc(33.333% - 2px);
    min-width: 200px;
    border: 0px;
    padding: 0.5rem;
    display: flex;
    flex-direction: column;
    position: relative;
    background-color: var(--item-bg-color, #ffffff);
}

/* Item Header */
.item-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 0.0rem;
    margin-top: 0.0rem;
}

.item-index {
    font-weight: bold;
    margin-right: 0.5rem;
    min-width: 20px;
}

.item-title {
    flex: 1;
    font-size: 1.0rem;
    line-height: 1.0;
    word-wrap: break-word;
    text-align: center;
    width: 100%;
    margin-bottom: 0.0 rem;
}

.item-title a {
    color: black !important;
    text-decoration: none;
}

/* Gallery Item Link */
.gallery-item-link {
    color: black !important;
    text-decoration: none;
}

.thumbnail-image {
    object-fit: contain;
    max-width: var(--thumbnail-small-width, 200px);
    max-height: var(--thumbnail-small-height, 200px);
    height: auto;
}

/* CSS Containment for Performance */
.gallery-item {
    contain: layout style paint;
}

.film-indicator {
    margin-left: 0.25rem;
}

/* Thumbnail Container */
.thumbnail-container {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0.25rem 0;
    position: relative;
}

/* Scoped to gallery grids only (not item view) */
.gallery-container .thumbnail {
    max-width: var(--thumbnail-small-width, 200px);
    max-height: var(--thumbnail-small-height, 200px);
    height: auto;
    border-radius: 4px;
}

.external-link {
    position: absolute;
    top: -15px;
    right: -5px;
    background: transparent;
    border-radius: 50%;
    padding: 6px;
    font-size: 1.25rem;
    color: #3273dc;
    text-decoration: none;
}

/* Metadata */
.item-metadata {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 0.5rem;
    font-size: 1.00rem;
    margin-top: auto;
    width: 100%;
}

.item-metadata .icon-text {
    color: #000;
}

.item-metadata .icon {
    width: 20px;
}

/* Responsive Design - Using Bulma breakpoints */
/* Bulma tablet breakpoint: 769px */
@media screen and (max-width: 768px) {
    .gallery-item {
        flex: 1 1 calc(50% - 2px);
        min-width: 150px;
    }

    /* Level component stacks on mobile by default */
    .level {
        display: flex;
        flex-direction: column;
    }
}

/* Bulma mobile breakpoint: 480px */
@media screen and (max-width: 480px) {
    .gallery-item {
        flex: 1 1 100%;
    }

    .gallery-container {
        max-width: 100%;
        margin-left: 0;
        padding: 0.5rem;
    }
}
